<template name="features">
  <div class="modal fade" id="addFeatureModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">{{_ "currency.features.new"}}</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          {{{_ "currency.features.modal_text" currencyName bountyamount}}}
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" data-dismiss="modal" aria-label="Close">{{_ "currency.features.dont_show"}}</button>
        </div>
      </div>
    </div>
  </div>
  <div class="modal fade" id="wymiModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">{{_ "currency.features.commenting"}}</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          {{{_ "currency.features.modal_body"}}}
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" data-dismiss="modal" aria-label="Close">{{_ "currency.features.close"}}</button>
        </div>
      </div>
    </div>
  </div>
  <div class="modal fade" id="featureModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">{{_ "currency.features.add_new"}}</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          {{_ "currency.features.modal_body_info" currencyName currencyName}}
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" data-dismiss="modal" aria-label="Close">{{_ "currency.features.dont_show"}}</button>
        </div>
      </div>
    </div>
  </div>
  {{featureModal}}
  <div class="col-sm-12 currency-features">
    <div class="header" >{{_ "currency.features.features"}}</div>
    <div>
      <div class="currencyDetailBox ">
        {{#unless reactiveVar 'showflagged'}}
		    <div class="row commentThread frame">
          {{#if subsCacheReady}}
            {{#each features}}
              <div class="col-sm-12">{{> feature}}</div>
            {{else}}
              <div class="no-result-message">
                {{> empty}}
              </div>
            {{/each}}
            {{#if features}}
              {{#if loadMoreActive}}
              <button class="load-more-button" id="loadMoreFeatures">{{_ "currency.features.load"}}</button>
              {{/if}}
              
            {{/if}}
          {{else}}
            {{> loading}}
          {{/if}}
		    </div>
        {{/unless}}
      </div>

      <div class="row">
        <div class="col-sm-12 addNewOuter">
          <button class="btn btn-primary showAddNewFeature pull-right">
            <i class="fa fa-plus" aria-hidden="true"></i> {{_ "currency.features.add_feat"}}
          </button>
          <div class="addNewFeatureContainer" style="display:none;">
            <div class="input-group">
              <textarea id="featureName" class="form-control" maxlength="140" minlength="6" data-toggle="popover" data-placement="top" data-html="true" 
                data-content='{{_ "currency.features.rules"}}'></textarea>
              <div class="input-group-append">
                <button class="btn btn-primary float-left submitNewFeature">{{_ "currency.features.submit"}}</button>
                &nbsp;&nbsp;<button class="btn btn-primary float-left cancelNewFeature">{{_ "currency.features.cancel"}}</button>
              </div>  
            </div>
            <span class="helpers">
              <br/>
              <h4 class="feature-help-button">&nbsp;&nbsp;<i class="fa fa-question-circle help" aria-hidden="true"></i></h4>
              <div id="charNumFeature"></div>
            </span>
          </div>
        </div>
      </div>
    


        <!-- TODO : Confirm and Delete -->
        <!-- {{#if reactiveVar 'showflagged'}}
        {{#if subsCacheReady}}
        {{#each flaggedfeatures}}
          <div class="col-lg-6">{{> feature}}</div>
        {{else}}
          {{> empty}}
        {{/each}}
      {{else}}
        {{> loading}}
      {{/if}}
      {{/if}} -->

    </div>
  </div>
</template>
